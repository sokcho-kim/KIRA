# Computer Use

KIRA가 Playwright를 사용하여 웹 브라우저를 자동으로 제어할 수 있습니다.

## 📋 개요

Computer Use 기능을 활성화하면:
- 웹사이트 자동 로그인
- 웹 폼 자동 작성
- 데이터 스크래핑
- 웹 UI 자동 테스트
- 복잡한 웹 작업 자동화

---

## ⚙️ 설정

### 1. KIRA 앱 실행
환경변수 설정 탭을 엽니다.

### 2. Computer Use 섹션 찾기
**Computer Use** 섹션으로 스크롤

### 3. Chrome 활성화
- **Chrome** 토글 스위치를 **켜기**로 변경

::: tip Chrome 프로필 사용
Chrome 토글을 켜면 Playwright가 Chrome 프로필을 사용합니다.
이미 로그인된 세션을 재사용할 수 있어 매번 로그인할 필요가 없습니다.
:::

### 4. 항상 프로필 설정 열기 (선택사항)
- **항상 프로필 설정 열기** 토글을 **켜기**로 변경하면:
  - 매번 서버 시작 시 브라우저가 열립니다
  - 새로운 사이트에 추가 로그인하거나 설정 변경 가능
  - 대부분의 경우 **끄기**로 두는 것을 권장합니다

### 5. 설정 저장
- **"설정 저장"** 버튼 클릭

### 6. 서버 시작 및 초기 설정

**"시작하기"** 버튼을 클릭하면:

1. **Chrome 브라우저가 자동으로 열립니다**
2. 로그인이 필요한 웹사이트(예: 회사 SSO, Gmail 등)에 **직접 로그인**하세요
3. 로그인 정보가 Chrome 프로필에 저장됩니다
4. **브라우저를 닫습니다**
5. 터미널/콘솔에서 **엔터(Enter) 키**를 누릅니다
6. Python 서버가 정상적으로 시작됩니다

::: warning 초기 설정 필수
처음 서버를 시작할 때 브라우저가 열리면 필요한 사이트에 로그인하고 브라우저를 닫은 후 엔터를 눌러야 서버가 시작됩니다.
한 번 로그인하면 다음부터는 자동으로 로그인 상태가 유지됩니다.
:::

---

## 🎯 사용 예시

### 웹사이트 자동 로그인
```
사용자: example.com에 로그인해줘
       아이디: user@email.com
       비밀번호: ****
KIRA: [Playwright 실행]
      ✅ example.com 로그인 완료
```

### 웹 폼 작성
```
사용자: 이 설문지 작성해줘
       이름: 홍길동
       이메일: hong@email.com
       의견: 매우 만족합니다
KIRA: [Playwright 실행]
      ✅ 설문지 작성 완료
```

### 데이터 수집
```
사용자: example.com에서 상품 가격 정보 수집해줘
KIRA: [Playwright 실행]
      📊 수집 완료
      1. 상품 A: 10,000원
      2. 상품 B: 20,000원
      ...
```

### 웹 UI 테스트
```
사용자: 우리 사이트 로그인 테스트해줘
KIRA: [Playwright 실행]
      ✅ 로그인 페이지 접속 성공
      ✅ 아이디/비밀번호 입력 성공
      ✅ 로그인 버튼 클릭 성공
      ✅ 대시보드 이동 확인
```

---

## 💡 Chrome 프로필 활용

### 프로필 사용의 장점
1. **로그인 세션 유지**: 한 번 로그인하면 계속 유지
2. **쿠키 재사용**: 이전 세션 정보 활용
3. **확장 프로그램**: 설치된 Chrome 확장 사용 가능
4. **설정 보존**: 브라우저 설정 그대로 사용

### 로그인 세션 유지
서버 시작 시 한 번 로그인한 정보는 Chrome 프로필에 저장되어:
- 다음 서버 시작 시 자동으로 로그인 상태 유지
- Computer Use 기능 사용 시 재로그인 불필요
- 쿠키와 세션 정보 자동 보존

### 항상 프로필 설정 열기
이 옵션을 켜면:
- **매번 서버 시작 시 브라우저가 열립니다**
- 새로운 사이트에 추가 로그인 가능
- 브라우저 설정을 변경하고 싶을 때 유용
- 로그인이 만료된 사이트에 재로그인 가능

---

## 🔧 문제해결

### Chrome이 열리지 않음
- Chrome 브라우저가 설치되어 있는지 확인
- macOS: Applications 폴더에 Chrome 설치 확인
- 다른 Chrome 프로세스가 실행 중인지 확인

### "Timeout" 에러
- 네트워크 연결 확인
- 웹사이트 로딩 시간이 오래 걸릴 수 있음
- 페이지가 실제로 존재하는지 확인

### 로그인이 유지되지 않음
- CHROME_ENABLED가 켜져 있는지 확인
- Chrome 프로필이 정상적으로 생성되었는지 확인
- 웹사이트가 쿠키를 차단하지 않는지 확인

### "Element not found" 에러
- 웹사이트 구조가 변경되었을 수 있음
- KIRA에게 더 구체적인 설명 제공
- 예: "로그인 버튼은 페이지 오른쪽 상단에 있어"

---

## ⚠️ 주의사항

### 보안
- 민감한 정보(비밀번호 등)는 Slack에 직접 쓰지 마세요
- DM으로 전달하거나 환경변수에 저장하세요
- Chrome 프로필에 로그인 정보가 저장됩니다

### 성능
- 브라우저 자동화는 시간이 걸립니다
- 복잡한 작업은 1-2분 소요 가능
- 인내심을 가지고 기다려주세요

### 제한사항
- CAPTCHA가 있는 사이트는 자동화 어려움
- 일부 웹사이트는 자동화를 차단할 수 있음
- 로봇 방지 시스템이 있는 경우 제한될 수 있음

### 법적 고려사항
- 웹사이트 이용약관 확인
- 자동화가 금지된 사이트는 사용 금지
- 개인용도로만 사용 권장

---

## 💡 팁

### 효과적인 요청
✅ **구체적으로**:
```
"example.com 로그인 버튼은 오른쪽 상단에 있어.
아이디 입력란은 'email'이라고 표시되어 있어."
```

❌ **모호하게**:
```
"로그인해줘"
```

### 복잡한 작업은 단계별로
```
1. "example.com 접속해줘"
2. "로그인 페이지로 이동해줘"
3. "아이디 user@email.com 입력해줘"
4. "비밀번호 입력해줘"
5. "로그인 버튼 클릭해줘"
```

### 프로필 초기화
Chrome 프로필에 문제가 생기면:
1. KIRA 서버 중지
2. Chrome 프로필 폴더 삭제
3. 서버 재시작
4. 다시 로그인

---

## 🎓 고급 활용

### 주기적인 작업 자동화
```
매일 오전 9시에:
- 웹사이트 A 접속
- 데이터 수집
- Slack으로 전송
```

### 복잡한 워크플로우
```
1. 사이트 A에서 데이터 다운로드
2. 사이트 B에 업로드
3. 결과 확인 후 Slack 알림
```

### 멀티탭 작업
```
여러 사이트를 동시에 열고 작업 수행
```

Computer Use 기능으로 반복적인 웹 작업을 자동화하세요! 🚀
